{"version":3,"file":"bundle.js","sources":["../../src/js/index.js"],"sourcesContent":["// M O D E L  ******************************************************************************************\n\nvar model = {\n    //---------------------------\n    // if debug == true logs go to console.\n    debug: true,\n    oauth2email: \"\",\n    oauth2name: \"\",\n    oauth2id: \"\",\n\n    //---------------------------\n    // url where we access GraphQL endpoint = origin + '/graphql'\n    priv_origin: null, \n    set origin(v){\n        this.priv_origin = v\n        document.getElementById('appUrl').innerHTML = '&#x21E2;&nbsp;'+v\n        buildSocialIcons(v+\"/oauthproviders\")\n        // buildSocialIcons(\"social.json\")\n        document.getElementById('graphqlTestLink').href = 'https://graphql-test.now.sh/?end_point='+v+'/schema&tab_name=auth-proxy'\n    },\n    get origin(){\n        return this.priv_origin\n    },\n    //---------------------------\n    // templatesCache keeps loaded templates, not to load them repeatedly\n    templatesCache :[],\n\n    //---------------------------\n    get logined(){\n         return (this._loginedUser != null)\n    },\n \n\n    //---------------------------\n    urlParams: new URLSearchParams(window.location.search),\n    // set urlParams(v) {\n    // },\n    // get urlParams() {\n    //     return this._urlParams\n    // },\n\n    //---------------------------\n    _loginedUser: null,\n    set loginedUser(v) {\n        this._loginedUser = v\n        if (v) {\n            document.getElementById(\"userTab\").innerText = v.username\n            // getAuthRoles(model.loginedUser.username)\n        } else {\n            document.getElementById(\"userTab\").innerText = \"\"\n        }\n        refreshApp()\n    },\n    get loginedUser() {\n        return this._loginedUser\n    },\n\n    //---------------------------\n    _selfRegAllowed: false,\n    set selfRegAllowed(v) {\n        this._selfRegAllowed = v\n        if (v) {\n            showElements(\"#selfRegButton\")\n        } else {\n            hideElements(\"#selfRegButton\")\n        }\n    },\n    get selfRegAllowed() {\n        return this._selfRegAllowed\n    },\n    \n    //---------------------------\n    _captchaRequired: false,\n    set captchaRequired(v) {\n        this._captchaRequired = v\n        if (v) {\n            showElements(\"#captcha\")\n        } else {\n            hideElements(\"#captcha\")\n        }\n    },\n    get captchaRequired() {\n        return this._captchaRequired\n    },\n\n    //---------------------------\n    _authRoles: null,\n    set authRoles(v) {\n        this._authRoles = v\n        if (this.isAdmin){\n            showElements('#usersTab')\n            showElements('#rolesTab')\n            showElements('#graphqlTest')\n            showElements('#btnNewApp')\n        } else {\n            hideElements('#usersTab')\n            hideElements('#rolesTab')\n            hideElements('#graphqlTest')\n            hideElements('#btnNewApp')\n\n            // showPage('apps')\n        }\n        renderPage('apps','.app-search-results')\n        \n    },\n    get authRoles() {\n        return this._authRoles\n    },\n    get isAdmin() {\n        if (!model.authRoles) return false\n        return model.authRoles.some(e => e.rolename == \"authadmin\")\n    },\n    \n    //---------------------------\n    _user: null,\n    set user(v) {\n        this._user = v\n        renderPage('user','#userPage')\n    },\n    get user() {\n        return this._user\n    },\n    \n    //---------------------------\n    _app: null,\n    set app(v) {\n        this._app = v\n        renderPage('app','#appPage')\n    },\n    get app() {\n        return this._app\n    },\n    \n    //---------------------------\n    _users: null,\n    set users(v) {\n        this._users = v\n        renderPage('users','.user-search-results')\n    },\n    get users() {\n        return this._users\n    },\n    \n    //---------------------------\n    _apps: null,\n    set apps(v) {\n        this._apps = v\n        renderPage('apps','.app-search-results')\n    },\n    get apps() {\n        return this._apps\n    },\n\n    //---------------------------\n    all_app_options: null,\n    all_user_options:null,\n    //---------------------------\n    _allApps: null,\n    set allApps(v) {\n        this._allApps = v\n        this.all_app_options = createOptions(v, \"appname\", \"description\", \"url\")\n        document.querySelector(\"#allAppsDataList\").innerHTML = this.all_app_options\n    },\n    get allApps() {\n        return this._allApps\n    },\n\n    //---------------------------\n    _allUsers: null,\n    set allUsers(v) {\n        this._allUsers = v\n        this.all_user_options = createOptions(v, \"username\", \"fullname\", \"email\")\n        document.querySelector(\"#allUsersDataList\").innerHTML = this.all_user_options\n    },\n    get allUsers() {\n        return this._allUsers\n    },\n    \n    //---------------------------\n    _app_user_roles: null,\n    set app_user_roles(v) {\n        this._app_user_roles = v\n        renderPage('roles','.app-user-roles-results')\n    },\n    get app_user_roles() {\n        return this._app_user_roles\n    },\n\n    \n}\n\n\n\n// F U N C T I O N S  *********************************************************************************\n\nfunction createOptions(selectValues, keyProp, textProp1, textProp2) {\n    var output = []\n    selectValues && selectValues.forEach(function(value)\n    {\n      output.push(`<option value=\"${value[keyProp]}\">${value[textProp1]} &nbsp;&nbsp;&nbsp; ${value[textProp2]?value[textProp2]:''}</option>`);\n    })\n    let optionText = output.join('')\n    return optionText\n}\n\n\nfunction highlightTab(tabid) {\n        removeClass('.tab', \"underlined\")\n        var tabid0 = tabid.split(\"/\")[0]\n        addClass('#'+tabid0+'Tab', \"underlined\")   \n}\n\n\nfunction showPage(pageid, dontpush){\n    //распарсить pageidExtended\n    var a = pageid.split(\"/\")\n    var pageid0 = a[0]\n    var id = a[1]\n\n    highlightTab(pageid)\n    \n    hideElements('.page')\n    showElements('#'+pageid0+'Page')\n\n\n    // setting focus\n    var text = document.querySelector('#'+pageid0+'Page input[type=\"text\"]')\n    if(text) \n        text.focus()\n\n\n    if (!dontpush){\n        if (!history.state || history.state.pageid != pageid ){\n            history.pushState({pageid:pageid},pageid, \"#\"+pageid) \n        }\n    }\n\n    if (id) {\n        if (pageid0 == \"app\"){\n            getApp(id)\n        } \n        if (pageid0 == \"user\"){\n            getUser(id)\n        }\n    }\n\n\n    return false\n}\n\n\nfunction renderTemplateFile(templateFile, data, targetSelector) {\n\n    function renderTemplate(template) {\n        var rendered = Mustache.render(template, data)\n        document.querySelector(targetSelector).innerHTML = rendered\n    }    \n\n    var cachedTemlpate = model.templatesCache[templateFile]\n    \n    if (cachedTemlpate) {\n        renderTemplate(cachedTemlpate) \n        console.info(\"from cache:\",templateFile)\n        return\n    }\n    \n    // $.get(templateFile, onSuccess);\n    fetch(templateFile).then(x => x.text()).then( t => {\n        model.templatesCache[templateFile]=t \n        renderTemplate(t)\n    })\n}\n\n\nfunction renderPage(pageid, elemSelector) {\n    renderTemplateFile('mustache/'+pageid+'.html', model, elemSelector)\n}\n\n\nfunction alertOnError(e, msg){\n    alert(msg, e)\n}\n\n\n// function getCookie(cname) {\n//     var name = cname + \"=\";\n//     var decodedCookie = decodeURIComponent(document.cookie);\n//     var ca = decodedCookie.split(';');\n//     for(var i = 0; i <ca.length; i++) {\n//       var c = ca[i];\n//       while (c.charAt(0) == ' ') {\n//         c = c.substring(1);\n//       }\n//       if (c.indexOf(name) == 0) {\n//         return c.substring(name.length, c.length);\n//       }\n//     }\n//     return \"\";\n// }\n\n\nvar delayTimeout\nfunction delayFunc(f, delay=500) {\n   clearTimeout(delayTimeout) \n   delayTimeout = setTimeout(f, delay)  \n   return false \n}\n\n\nfunction searchApps() {\n    if (document.querySelector('#chkLocalSearch').checked) {\n        return delayFunc(searchAppsInModel, 100)\n    } else {\n        return delayFunc(formListAppSubmit)\n    }\n}\n\nfunction searchAppsInModel() {\n    if (!model.allApps) return\n    var text = document.querySelector(\"#formListApp input[name='search']\").value.trim().replace(' ','.*')\n    var r = new RegExp(text, 'i')\n    let found = model.allApps.filter((v)=>{\n        var s = Object.values(v).join(' ')\n        return r.test(s)\n    })\n    model.apps = found\n    return false   \n}\n\n\nfunction sortAppsBy(prop) {\n    if (!model._allApps) return false\n    model._allApps.sort( (a,b) => (a[prop]+a.appname)>(b[prop]+b.appname)? 1: -1)\n    model._apps.sort( (a,b) => (a[prop]+a.appname)>(b[prop]+b.appname)? 1: -1 )\n    model.apps = model._apps\n    return false\n}\n\n\nfunction searchUsers() {\n    if (document.querySelector('#chkLocalSearch').checked) {\n        return delayFunc(searchUsersInModel, 100)\n    } else {\n        return delayFunc(formListUserSubmit)\n    }\n}\n\n\nfunction searchUsersInModel() {\n    if (!model.allUsers) return\n    var text = document.querySelector(\"#formListUser input[name='search']\").value.trim().replace(' ','.*')\n    var r = new RegExp(text, 'i')\n    let found = model.allUsers.filter( (v) => r.test (Object.values(v).join(' ')) )\n    model.users = found\n    return false   \n}\n\n\nfunction sortUsersBy(prop) {\n    if (!model._allUsers) return false\n    model._allUsers.sort( (a,b) => (a[prop]+a.username)>(b[prop]+b.username)? 1: -1)\n    model._users.sort( (a,b) => (a[prop]+a.username)>(b[prop]+b.username)? 1: -1 )\n    model.users = model._users\n    return false\n}\n\n\n\n// R E Q U E S T S  *******************************************************\n\nfunction doGraphQLRequest(query, responseHandler, errorElementID) {\n    // $.ajax({ url: \"/graphql\", type: \"POST\", data: { query: query }, error: alertOnError, \n    //     success: (res) => {\n    //         model.debug && console.log(res)\n    //         if (res.errors){\n    //             model.debug && console.log(res.errors[0].message)\n    //             if (errorElementID) {\n    //                 document.getElementById(errorElementID).innerText = res.errors[0].message\n    //             }\n    //             return\n    //         }\n    //         responseHandler(res)\n    //     } \n    // })\n    fetch(model.origin+'/graphql', { \n        method: 'POST', \n        credentials: 'include', \n        body: JSON.stringify({ query: query, variables: {} }) \n    })\n        .then(res => { \n            if (res.ok) {\n                return res.json();\n            }\n            new Error(res)\n        })\n        .then((res) => {\n            model.debug && console.log(res)\n            if (res.errors){\n                model.debug && console.log(res.errors[0].message)\n                if (errorElementID) {\n                    document.getElementById(errorElementID).innerText = res.errors[0].message\n                }\n                return\n            }\n            responseHandler && responseHandler(res)\n        })\n        .catch( e => console.error(e) )    \n    \n}\n\n\n// L O G I N  *****************************************************************************\n\nfunction loginGraphQLFormSubmit(event) {\n    if (event) event.preventDefault()\n    \n    let username = document.getElementById(\"loginUsername\").value\n    let password = document.getElementById(\"loginPassword\").value\n    let captcha =  document.getElementById(\"loginCaptcha\").value\n    \n    \n\n    let query =`\n    query {\n        login(\n        username: \"${username}\",\n        password: \"${password}\",\n        captcha: \"${captcha}\"\n        )\n        }    \n    `\n    function onSuccess(res){\n        getLoginedUser()\n    }   \n\n    doGraphQLRequest(query, onSuccess, \"loginError\")\n    clearLoginForm()\n    return false       \n}\n\n\n\nfunction logoutGraphQLFormSubmit(event) {\n    if (event) event.preventDefault()\n    var query =`\n    query {\n        logout {\n            message\n            username\n          }\n        }\n    `\n\n    function onSuccess(res){\n        model.loginedUser = null\n        refreshApp()\n    }\n\n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\n\n\nfunction isSelfRegAllowed(event) {\n    if (event) event.preventDefault()\n    var query =` query { is_selfreg_allowed }`\n\n    function onSuccess(res){\n        model.selfRegAllowed = res.data.is_selfreg_allowed\n    }\n       \n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\nfunction isCaptchaRequired(event) {\n    if (event) event.preventDefault()\n    let username = document.getElementById(\"loginUsername\").value   \n    var query =`  query { is_captcha_required(  username: \"${username}\" ) \n        {\n            is_required \n            path\n        } \n    } `\n\n    function onSuccess(res){\n        model.captchaRequired = res.data.is_captcha_required.is_required\n        if (model.captchaRequired) {\n            getNewCaptcha()\n            model.debug && console.log(\"Captcha IS required\")\n        }\n    }\n       \n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\n\n\nfunction generateNewPassword(event) {\n    if (event) event.preventDefault()\n\n    let username = document.getElementById(\"loginUsername\").value\n\n    var query =`\n    mutation {\n        generate_password(\n        username: \"${username}\"\n        ) \n        }\n    `\n    function onSuccess(res){\n        alert(res.data.generate_password)\n        refreshApp()\n    }   \n\n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\n\n\n// L O G I N E D   U S E R   **********************************************************************************************************************\n\n\nfunction getLoginedUser() {\n    model.loginedUser = null\n    var query =`\n    query {\n        get_logined_user {\n            description\n            email\n            fullname\n            username\n            disabled\n        }\n    }\n    `\n    \n    function onSuccess(res){\n        model.loginedUser = res.data.get_logined_user\n        getAuthRoles(model.loginedUser.username)\n        getUser(model.loginedUser.username)\n    } \n    \n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\nfunction getAuthRoles(username) {\n    model.authRoles = null\n\n    var query =`\n    query {\n        list_app_user_role(\n            appname: \"auth\",\n            username: \"${username}\"\n            ) {\n                rolename\n            }\n        }\n        `\n\n    function onSuccess(res){\n        model.authRoles = res.data.list_app_user_role\n    } \n\n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\n\n// U S E R S  ***********************************************************************************************************************\n\n\nfunction formListUserSubmit(event) {\n    if (event) event.preventDefault()\n    model.users = null\n    let search = document.querySelector(\"#formListUser input[name='search']\").value\n    \n    var query =`\n    query {\n        list_user(\n        search: \"${search}\",\n        order: \"fullname ASC\"\n        ) {\n            length\n            list {\n              description\n              email\n              fullname\n              username\n              disabled\n            }\n          }\n        }        \n    `\n    \n    function onSuccess(res){\n        model.users = res.data.list_user.list\n    } \n\n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\n\n\nfunction formUserSubmit(event, userOperationName = 'create_user') {\n    if (event) event.preventDefault()\n    let username =      document.querySelector(\"#formUser input[name='username']\").value\n    let password =      document.querySelector(\"#formUser input[name='password']\").value\n    let email    =      document.querySelector(\"#formUser input[name='email']\").value\n    let fullname =      document.querySelector(\"#formUser input[name='fullname']\").value\n    let description =   document.querySelector(\"#formUser *[name='description']\").value\n    let disabled =      document.querySelector(\"#formUser input[name='disabled']\").value\n    \n    var query =`\n    mutation {\n        ${userOperationName}(\n        username: \"${username}\",\n        password: \"${password}\",\n        email: \"${email}\",\n        fullname: \"${fullname}\",\n        description: \"${description}\",\n        disabled: ${disabled}\n        ) {\n            description\n            email\n            fullname\n            username\n            disabled\n          }\n\n        }\n    `\n\n    function onSuccess(res){\n        alert(userOperationName+\" success\")\n        refreshData()\n        model.user = res.data[userOperationName]\n        if (userOperationName == 'create_user' && !model.logined) {\n            alert(`\"${username}\" is created.` )\n            showPage('login',true)\n        }\n        getUser(username)\n    }\n\n    doGraphQLRequest(query, onSuccess, \"userError\")\n    return false       \n}\n\n\n\nfunction getUser(username) {\n    model.user = null\n    var query =`\n    query {\n        get_user(\n        username: \"${username}\"\n        ) {\n            description\n            email\n            fullname\n            username\n            disabled\n          }\n        \n        list_app_user_role(\n        username: \"${username}\"\n        ) {\n            app_description\n            appname\n            rolename\n            username\n          }\n        \n        }\n\n    `\n\n    function onSuccess(res){\n        var u = res.data.get_user\n        u.apps = groupApps(res.data.list_app_user_role)\n        // render \n        model.user = u\n    } \n\n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\n\n\nfunction groupApps(list_app_user_role) {\n    if (!list_app_user_role) return []\n    \n    let gr = {}\n    for (let aur of list_app_user_role ){\n        if (!gr[aur.appname]) gr[aur.appname] =[]\n        gr[aur.appname].push(aur)\n    }\n\n    let arr = []\n\n    for (let [key, value] of Object.entries(gr)) {\n        let rec = {}\n        rec.appname =key\n        rec.app_description = value[0].app_description\n        rec.items = value\n        arr.push(rec)\n    }\n    return arr\n}\n\n\n\nfunction deleteUser(username) {\n    var query =`\n    mutation {\n        delete_user(\n        username: \"${username}\"\n        ) {\n            username\n          }\n        }\n    `\n    function onSuccess(res){\n        model.user = null\n        refreshData()\n        showPage('users')\n    } \n\n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\n\n// A P P S  *******************************************************************\n\nfunction formListAppSubmit(event) {\n    if (event) event.preventDefault()\n    model.apps = null\n    let search = document.querySelector(\"#formListApp input[name='search']\").value\n    var query =`\n    query {\n        list_app(\n        search: \"${search}\",\n        order: \"description ASC\"\n        ) {\n            length\n            list {\n              appname\n              description\n              url\n              rebase\n              public\n            }\n          }\n        }    `\n\n    function onSuccess(res){\n        model.apps = res.data.list_app.list\n    } \n\n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\n\n\nfunction formAppSubmit(event, appOperationName = 'create_app') {\n    if (event) event.preventDefault()\n    let appname =     document.querySelector(\"#formApp input[name='appname']\"    ).value\n    let url =         document.querySelector(\"#formApp input[name='url']\"        ).value\n    let description = document.querySelector(\"#formApp input[name='description']\").value\n    let rebase =      document.querySelector(\"#formApp input[name='rebase']\"     ).value\n    let _public =     document.querySelector(\"#formApp input[name='public']\"     ).value\n    \n    var query =`\n    mutation {\n        ${appOperationName}(\n        appname: \"${appname}\",\n        url: \"${url}\",\n        description: \"${description}\",\n        rebase: \"${rebase}\",\n        public: \"${_public}\"\n        ) {\n            description\n            appname\n            url\n            rebase\n            public\n          }\n\n        }\n    `\n    function onSuccess(res){\n        alert(appOperationName+\" success\")\n        refreshData()\n        model.app = res.data[appOperationName]\n\n        getApp(appname)\n    } \n\n    doGraphQLRequest(query, onSuccess, \"appError\")\n    return false       \n}\n\n\n\nfunction getApp(appname) {\n    model.app = null\n\n    var query =`\n    query {\n        get_app(\n        appname: \"${appname}\"\n        ) {\n            description\n            appname\n            url\n            rebase\n            public\n          }\n        \n        list_app_user_role(\n        appname: \"${appname}\"\n        ) {\n            appname\n            rolename\n            user_fullname\n            user_disabled\n            username\n          }\n        \n        }\n\n    `\n\n    function onSuccess(res){\n        var a = res.data.get_app\n        a.users = groupUsers(res.data.list_app_user_role)\n        // render\n        model.app = a\n    } \n\n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\n\nfunction groupUsers(list_app_user_role) {\n    let gr = {}\n    for (let aur of list_app_user_role ){\n        if (!gr[aur.username]) gr[aur.username] =[]\n        gr[aur.username].push(aur)\n    }\n\n    let arr = []\n\n    for (let [key, value] of Object.entries(gr)) {\n        let rec = {}\n        rec.username =key\n        rec.user_fullname = value[0].user_fullname\n        rec.items = value\n        arr.push(rec)\n    }\n    return arr\n}\n\n\n\nfunction deleteApp(appname) {\n    var query =`\n    mutation {\n        delete_app(\n        appname: \"${appname}\"\n        ) {\n            appname\n          }\n        }\n    `\n    function onSuccess(res){\n        model.app = null\n        refreshData()\n        showPage('apps') ;\n    } \n\n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\n\n\n\n// A P P   U S E R   R O L E   **************************************************************************************************\n\nfunction getAllApps(event) {\n    if (event) event.preventDefault()\n    model.allApps = null\n    var query =`\n    query {\n        list_app(\n        order: \"appname ASC\"\n        ) {\n            length\n            list {\n              appname\n              description\n              url\n              rebase\n              public \n            }\n          }\n        }    `\n\n    function onSuccess(res){\n        model.allApps = res.data.list_app.list\n    } \n\n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\n\nfunction getAllUsers(event) {\n    if (event) event.preventDefault()\n    model.allUsers = null\n    var query =`\n    query {\n        list_user(\n        order: \"fullname ASC\"\n        ) {\n            length\n            list {\n              username\n              fullname\n              email\n              description\n              disabled\n            }\n          }\n        }    `\n\n    function onSuccess(res){\n        model.allUsers = res.data.list_user.list\n    } \n\n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\nfunction formListRoleSubmit(event) {\n    if (event && event.preventDefault ) event.preventDefault()\n    model.app_user_roles = null\n    let appname =  document.getElementById(\"allApps\").value\n    let username = document.getElementById(\"allUsers\").value\n    if (!appname || !username) \n        return\n\n    var query =`\n    query {\n        list_app_user_role(\n        appname: \"${appname}\",\n        username: \"${username}\"\n        ) {\n            rolename\n          }\n        }        \n        `\n\n    function onSuccess(res){\n        model.app_user_roles = res.data.list_app_user_role\n    } \n\n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\n\nfunction modifyRole(action,appname,username,rolename, onsuccess ) {\n    if (!appname || !username || !rolename) return\n\n    var query =`\n    mutation {\n        ${action}_app_user_role(\n        appname: \"${appname}\",\n        username: \"${username}\",\n        rolename: \"${rolename}\"\n        ) {\n            rolename\n            appname\n            username\n          }\n        }\n    `\n    function onSuccess(res){\n        if (onsuccess) onsuccess()\n    }\n\n    doGraphQLRequest(query, onSuccess)\n    return false       \n}\n\n// works when input values on roles page change\nfunction refreshRoles() {\n    let allUsersValue = document.getElementById(\"allUsers\").value\n    if (allUsersValue) {\n        let ui = document.querySelector(`#allUsersDataList>option[value='${allUsersValue}']`).innerText\n        document.getElementById('userInfo').innerText = ui   \n    }\n\n    let allAppsValue = document.getElementById(\"allApps\").value\n    if (allAppsValue) {\n        let ai = document.querySelector(`#allAppsDataList>option[value='${allAppsValue}']`).innerText\n        document.getElementById('appInfo').innerText = ai\n    }\n\n    if (allUsersValue && allAppsValue) \n        formListRoleSubmit() \n}\n\n\nfunction filterRows(selector, value ){\n    var v = value.toLowerCase()\n    var rows = document.querySelectorAll(selector)\n    rows.forEach(e => {\n        var txt = e.innerText.toLowerCase()\n        if (txt.indexOf(v) == -1) {\n            e.classList.add(\"hidden\")\n        } else {\n            e.classList.remove(\"hidden\")\n        }\n    });\n}\n\nfunction hideElements(selector) {\n    document.querySelectorAll(selector).forEach(e => e.classList.add(\"hidden\"));\n}\n\n\nfunction showElements(selector) {\n    document.querySelectorAll(selector).forEach(e => e.classList.remove(\"hidden\"));\n}\n\nfunction addClass(selector, classname) {\n        document.querySelectorAll(selector).forEach(e => e.classList.add(classname));\n}\n\nfunction removeClass(selector, classname) {\n    document.querySelectorAll(selector).forEach(e => e.classList.remove(classname));\n}\n\n\nfunction hidePassword() {\n    document.querySelector(\"#formUser input[name='password']\").setAttribute('type','password')\n}\n\nfunction showPassword() {\n    document.querySelector(\"#formUser input[name='password']\").setAttribute('type','text')\n}\n\nfunction removeQueryStringFromBrowserURL() {\n    let url = document.location.href\n    let url1 = url.replace(/\\?.*/, '')\n    let url2 = url1+\"?url=\"+model.origin\n    history.replaceState(null,null,url2)   \n}\n\n\nfunction generatePassword() {\n    function newPassword (n) {\n        let pickSymbol =(s) => s[Math.floor(Math.random()*s.length)]\n        var symbolSets =[\"bcdfghjklmnpqrstvwxz\",\"aeiou\"] \n        var password = ''\n        for (let i=0; i<n; i++){\n            password += pickSymbol(symbolSets[i%symbolSets.length])\n        }\n        return password\n    }\n\n    document.querySelector(\"#formUser input[name='password']\").value = newPassword(9)\n}\n\nfunction buildSocialIcons(url) {\n    // try {\n        fetch(url).then(x => x.json())\n        .then( t => renderOauthProvidersJSON(t) )\n        .catch( err => {\n            console.log(\"fetch error:\",err)\n            return\n            }\n        )  \n    // } catch(e){\n    //     console.log(\"ERR:\", e)\n    // }\n}\n\nfunction renderOauthProvidersJSON(jsn) {\n    let el = document.getElementById('socialIcons')\n    if (!el) return\n\n    el.innerHTML = ''\n    let icons = []\n    for (let [k,v] of Object.entries(jsn) ) {\n        icons.push(`<a class=\"button button-clear\" href=\"${model.origin + v}\">\n            <img class=\"social-icon\" src=\"images/${k}.svg\"><br>\n            ${k}\n            </a>`)\n    }\n    if (icons.length > 0){\n        el.innerHTML = '<div class=\"socialHeader\">войти через</div>' + icons.join(' ')\n    }\n}\n\n\n\nfunction getNewCaptcha() {\n    let uri = model.origin+\"/captcha?\"+ new Date().getTime()\n    document.getElementById(\"captchaImg\").src = uri\n    return false\n}\n\n\nfunction clearLoginForm() {\n    document.getElementById(\"loginUsername\").value = \"\"\n    document.getElementById(\"loginPassword\").value = \"\"\n    document.getElementById(\"loginCaptcha\").value = \"\"\n    document.getElementById(\"loginError\").innerText = \"\"\n    document.getElementById(\"socialLoginError\").innerHTML = \"\"\n}\n\n\nfunction logout() {\n    logoutGraphQLFormSubmit()\n    clearLoginForm()\n    showPage('login',true)\n    isSelfRegAllowed()\n    model.captchaRequired = false\n    return false\n}\n\n\n// refreshData() если пользователь залогинен наполняет модель данными,\n// в противном случае или обнуляет модель.\nfunction refreshData() {\n    if (model.logined) {\n        getAllApps()\n        getAllUsers()\n        formListAppSubmit()\n        formListUserSubmit()  \n    } else {\n        // nullify model's inner props\n        for (const k of Object.keys(model)) {\n            if (k.startsWith('_')) {\n                model[k] = null\n            }\n        }\n        isSelfRegAllowed()\n   }    \n}\n\nfunction getCurrentPageID(){\n    var p = location.hash.slice(1)\n    return (!p || p.includes('=')) ? 'apps' : p\n}\n\n// refreshApp обновляет данные модели и GUI\nfunction refreshApp() {\n    refreshData()\n    \n    if (model.logined) {\n        let page = getCurrentPageID()\n        showPage(page) \n        showElements('#menu')     \n    } else {\n        showPage('login',true)\n        hideElements('#menu')\n    }  \n}\n\n\n\nwindow.onhashchange = function(event) {\n    model.debug && console.log(\"onhashchange\", event)\n    var newpage = event.newURL.split('#')[1]\n    if (newpage) \n        showPage(newpage)\n}\n\n\nfunction setAppParams(){\n    model.oauth2email = model.urlParams.get('oauth2email') || ''\n    model.oauth2name = model.urlParams.get('oauth2name') || ''\n    model.oauth2id = model.oauth2email.replace(/@.*/,'')\n    document.getElementById('oauth2email').innerHTML = model.oauth2email\n\n    var url = model.urlParams.get('url')\n    var css = model.urlParams.get('css')\n    var oauth2error = model.urlParams.get('oauth2error')\n    var alrt = model.urlParams.get('alert')\n    if (alrt) alert(alrt)\n    document.getElementById('socialLoginError').innerHTML = oauth2error\n    if (css) document.getElementById('theme').href = css\n    model.origin = url ? url : 'https://auth-proxy.rg.ru'\n    removeQueryStringFromBrowserURL()\n    //?\n    model.captchaRequired = false\n}\n\n\n\nfunction init() {\n    setAppParams()\n    getLoginedUser()\n    refreshApp()      \n}\n\n\n// O N   P A G E   L O A D  ****************************************************************************************\n\ninit()\n"],"names":[],"mappings":"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"}